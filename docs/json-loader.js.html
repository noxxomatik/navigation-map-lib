<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: json-loader.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: json-loader.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Loader for downloaded OpenROV telemetry data.
 * @author Sven Otte
 * @module json-loader
 */

/**
 * Loader for downloaded OpenROV telemetry data.
 * @constructor
 */
function JSONLoader() {
    var navdata;
    var count;
    var length;

    /**
     * Loads a JSON-file.
     * @param {File} file - The JSON-file.
     */
    this.loadJSON = function(file) {
        fr = new FileReader();
        fr.onload = function (e) {
            lines = e.target.result;
            navdata = (JSON.parse(lines))[0].data;
            length = navdata.length;
            count = 0;
            console.log(navdata);
        };

        fr.readAsText(file);
    };

    /**
     * Returns the next set of navdata.
     * @returns {Navdata}
     */
    this.getNextDataSet = function() {
        // check if end of object is reached
        if (count == length) {
            return null;
        }

        dataSet = navdata[count];
        count++;

        navdataSet = new Navdata(
            dataSet.roll != undefined ? dataSet.roll : null,
            dataSet.pitch != undefined ? dataSet.pitch : null,
            dataSet.yaw != undefined ? dataSet.yaw : null,
            dataSet.thrust != undefined ? dataSet.thrust : null,
            dataSet.deapth != undefined ? dataSet.deapth : null,
            dataSet.hdgd != undefined ? dataSet.hdgd : null,
            dataSet.acclx != undefined ? dataSet.acclx : null,
            dataSet.accly != undefined ? dataSet.accly : null,
            dataSet.acclz != undefined ? dataSet.acclz : null,
            dataSet.magx != undefined ? dataSet.magx : null,
            dataSet.magy != undefined ? dataSet.magy : null,
            dataSet.magz != undefined ? dataSet.magz : null,
            dataSet.gyrox != undefined ? dataSet.gyrox : null,
            dataSet.gyroy != undefined ? dataSet.gyroy : null,
            dataSet.gyroz != undefined ? dataSet.gyroz : null,
            dataSet.lacclx != undefined ? dataSet.lacclx : null,
            dataSet.laccly != undefined ? dataSet.laccly : null,
            dataSet.lacclz != undefined ? dataSet.lacclz : null,
            dataSet.gravx != undefined ? dataSet.gravx : null,
            dataSet.gravy != undefined ? dataSet.gravy : null,
            dataSet.gravz != undefined ? dataSet.gravz : null,
            dataSet.timestamp != undefined ? dataSet.timestamp : null
        );

        console.log("JSONLoader received data set " + count);
        return navdataSet;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-json-loader.html">json-loader</a></li><li><a href="module-navigation-map-calculation.html">navigation-map-calculation</a></li><li><a href="module-navigation-map-visualization.html">navigation-map-visualization</a></li></ul><h3>Classes</h3><ul><li><a href="module-json-loader-JSONLoader.html">JSONLoader</a></li><li><a href="module-navigation-map-calculation-Buoy.html">Buoy</a></li><li><a href="module-navigation-map-calculation-Navdata.html">Navdata</a></li><li><a href="module-navigation-map-calculation-NavMapCalc.html">NavMapCalc</a></li><li><a href="module-navigation-map-calculation-NoFilter.html">NoFilter</a></li><li><a href="module-navigation-map-calculation-Pose.html">Pose</a></li><li><a href="module-navigation-map-visualization-NavMapVis.html">NavMapVis</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Mon Feb 06 2017 16:23:22 GMT+0100 (Mitteleurop√§ische Zeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
